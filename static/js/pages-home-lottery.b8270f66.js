(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-lottery"],{"23bc":function(t,e,i){"use strict";i.r(e);var n=i("336b"),o=i("e445");for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("c761");var a,s=i("f0c5"),l=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"a70ed08c",null,!1,n["a"],a);e["default"]=l.exports},"315d":function(t,e,i){"use strict";var n=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var o=n(i("c964"));i("99af"),i("d81d"),i("ac1f"),i("1276"),i("5319"),i("acd8"),i("e25e"),i("fb6a"),i("d3b7"),i("25f0"),i("4160"),i("159b"),i("b64b");var r=n(i("66ed")),a={components:{sPopup:r.default},data:function(){return{scrollTop:0,lotteryPrizes:["蒸羊羔","蒸熊掌","蒸鹿尾儿","烧花鸭","烧雏鸡儿","烧子鹅","卤煮咸鸭","酱鸡"],settingVisible:!1,form:{},formButton:"",lotteryVisible:!1,lotteryTitle:"暂无内容",resetVisible:!1}},onShareAppMessage:function(){return{title:"一起来选择下班吃啥呀",path:"/pages/home/lottery?prizes=".concat(JSON.parse(this.vuex_lottery.prizes),"&nutton=").concat(JSON.parse(this.vuex_lottery.button))}},onShareTimeline:function(){return{title:"咸鱼日记"}},onLoad:function(t){var e=this;return(0,o.default)(regeneratorRuntime.mark((function i(){var n,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=t.prizes&&JSON.parse(t.prizes),o=t.button&&JSON.parse(t.button),null!==n&&void 0!==n&&n.length&&e.$u.vuex("vuex_lottery.prizes",n),o&&e.$u.vuex("vuex_lottery.button",o),e.setForm();case 5:case"end":return i.stop()}}),i)})))()},computed:{lotterySize:function(){var t="700rpx";return t="350px",t},blocks:function(){return[{padding:"13px",background:this.colors.color}]},colors:function(){var t=this.$variables,e=t.color,i=t.fontColor,n=this.getHexColor(this.$u.colorToRgba(e,.8)),o=this.getHexColor(this.$u.colorToRgba(e,.6)),r=this.getHexColor(this.$u.colorToRgba(e,.3));return{fontColor:i,color:e,color8:n,color6:o,color3:r}},buttons:function(){var t=this.insertStr(this.vuex_lottery.button||"开始抽奖",2,"\n"),e=this.colors;return[{radius:"50px",background:e.color},{radius:"45px",background:e.color3},{radius:"40px",background:e.color8,pointer:!0,fonts:[{text:t,top:"-20px",fontColor:e.fontColor}]}]},prizes:function(){var t=this.vuex_lottery.prizes,e=this.colors,i=t.map((function(t,i){var n=i%2===0?e.color6:e.color3;return{fonts:[{text:t,fontColor:e.fontColor,top:"10%"}],background:n}}));return i}},methods:{filterIndex:function(t){return t.split("_")[1]},getHexColor:function(t){var e=t.replace(/rgba?\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),i=parseFloat(e[3]||1),n=Math.floor(i*parseInt(e[0])+255*(1-i)),o=Math.floor(i*parseInt(e[1])+255*(1-i)),r=Math.floor(i*parseInt(e[2])+255*(1-i));return"#"+("0"+n.toString(16)).slice(-2)+("0"+o.toString(16)).slice(-2)+("0"+r.toString(16)).slice(-2)},insertStr:function(t,e,i){return t.slice(0,e)+i+t.slice(e)},setForm:function(){var t=this,e=this.vuex_lottery.prizes,i=null!==e&&void 0!==e&&e.length?e:this.lotteryPrizes;this.form={},i.forEach((function(e,i){t.$set(t.form,"name_".concat(i),e)})),this.formButton=this.vuex_lottery.button,this.$u.vuex("vuex_lottery.prizes",i)},startCallBack:function(){var t=this;this.$refs.myLucky.play(),setTimeout((function(){var e=Math.floor(Math.random()*t.prizes.length);t.$refs.myLucky.stop(e)}),3e3)},endCallBack:function(t){var e=t.fonts;this.lotteryVisible=!0,this.lotteryTitle=e[0].text||"暂无内容"},resetInfo:function(){this.$u.vuex("vuex_lottery.prizes",this.lotteryPrizes),this.$u.vuex("vuex_lottery.button","今天吃啥"),this.setForm(),this.$toast.none("已重置")},settingCommit:function(){var t=this.form,e=this.formButton;this.$u.vuex("vuex_lottery.button",e);var i=[];for(var n in t)i.push(t[n]);this.$u.vuex("vuex_lottery.prizes",i)},delForm:function(t){this.$delete(this.form,t)},addForm:function(){var t=this,e=Object.keys(this.form).length;e<18?(this.$set(this.form,"name_".concat(e),""),this.$nextTick((function(){t.scrollTop+=500}))):this.$toast.none("不能再加了，好吃的太多了")}}};e.default=a},"336b":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={uForm:i("aa8f").default,uFormItem:i("e0a3").default,uIcon:i("f86b").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"lottery"},[i("v-uni-view",{staticClass:"lottery-hint"},[t._v("中午不知道吃什么的时候，可以写下附近喜欢吃的小店，开启随机转一转，不为吃饭而烦恼。")]),i("LuckyWheel",{ref:"myLucky",attrs:{width:t.lotterySize,height:t.lotterySize,blocks:t.blocks,prizes:t.prizes,buttons:t.buttons},on:{start:function(e){arguments[0]=e=t.$handleEvent(e),t.startCallBack.apply(void 0,arguments)},end:function(e){arguments[0]=e=t.$handleEvent(e),t.endCallBack.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"btn"},[i("v-uni-view",{staticClass:"btn-setting",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.settingVisible=!0}}},[t._v("设置")]),i("v-uni-view",{staticClass:"btn-setting",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.resetVisible=!0}}},[t._v("重置")])],1),i("s-popup",{attrs:{visible:t.settingVisible,"show-close":!0,"mask-close-able":!1,width:"80%",title:"设置菜单"},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.settingVisible=e},commit:function(e){arguments[0]=e=t.$handleEvent(e),t.settingCommit.apply(void 0,arguments)}}},[i("v-uni-scroll-view",{staticClass:"popup",attrs:{"scroll-top":t.scrollTop,"scroll-y":"true"}},[i("v-uni-view",{staticClass:"form"},[i("u-form",{ref:"uForm",attrs:{model:t.form}},[i("u-form-item",{attrs:{"label-width":"150",label:"抽奖按钮"}},[i("v-uni-input",{attrs:{type:"text",maxLength:"4",placeholder:"请输入抽奖按钮文案"},model:{value:t.formButton,callback:function(e){t.formButton=e},expression:"formButton"}})],1),t._l(t.form,(function(e,n){return i("u-form-item",{key:n,attrs:{"label-width":"150",label:"位置"+t.filterIndex(n)}},[i("v-uni-input",{attrs:{type:"select",maxlength:"10",placeholder:"请输入位置"+t.filterIndex(n)},model:{value:t.form[""+n],callback:function(e){t.$set(t.form,""+n,e)},expression:"form[`${key}`]"}}),i("template",{slot:"right"},[i("u-icon",{attrs:{name:"trash-fill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delForm(n)}}})],1)],2)}))],2)],1)],1),i("v-uni-view",{staticClass:"add"},[i("v-uni-view",{staticClass:"add-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addForm.apply(void 0,arguments)}}},[t._v("加一项鸭")])],1)],1),i("s-popup",{attrs:{visible:t.lotteryVisible,title:"中午去吃",width:"80%"},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.lotteryVisible=e}}},[i("v-uni-view",{staticClass:"hint"},[i("v-uni-view",{staticClass:"hint-lottery"},[t._v(t._s(t.lotteryTitle))])],1)],1),i("s-popup",{attrs:{visible:t.resetVisible,title:"确认重置","show-close":!0,width:"80%"},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.resetVisible=e},commit:function(e){arguments[0]=e=t.$handleEvent(e),t.resetInfo.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"hint"},[i("v-uni-view",{staticClass:"hint-title"},[t._v("重置后，你所保留的内容会消失！")])],1)],1)],1)},r=[]},a6f9:function(t,e,i){var n=i("c76a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("7ad78e8a",n,!0,{sourceMap:!1,shadowMode:!1})},c761:function(t,e,i){"use strict";var n=i("a6f9"),o=i.n(n);o.a},c76a:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* mixin */\n/* 颜色变量 */body[data-v-a70ed08c], html[data-v-a70ed08c]{width:100%;height:auto}\n/* 单行文字隐藏 */.elp[data-v-a70ed08c]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}\n/* 按钮置灰 */.disabled[data-v-a70ed08c]{opacity:.3;-webkit-filter:grayscale(100%);filter:grayscale(100%)}\n/* u-search icon 搜索兼容 */[type=search][data-v-a70ed08c]::-webkit-search-decoration{display:none}@font-face{font-family:xy;src:url(https://schbrain-static-online.oss-cn-hangzhou.aliyuncs.com/resources/xy.ttf) format("truetype");font-weight:700;font-style:normal}[data-v-a70ed08c] .deep-class .uni-picker-container{z-index:100000!important}.lottery[data-v-a70ed08c]{padding:%?50?% 0 0;width:100%;height:calc(100vh - %?88?%);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.lottery-hint[data-v-a70ed08c]{padding:0 %?30?% %?40?%;font-size:%?34?%;color:#090300;text-indent:2em}.lottery .btn[data-v-a70ed08c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:100%;height:auto;padding:%?50?% %?30?%}.lottery .btn-setting[data-v-a70ed08c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?250?%;height:%?90?%;border-radius:%?50?%;border:2px solid #090300;background:#fad434;color:#090300;font-size:%?40?%}.lottery .popup[data-v-a70ed08c]{width:auto;max-height:calc(100vh - %?650?%)}.lottery .popup .form[data-v-a70ed08c]{padding:0 %?30?%}.lottery .add[data-v-a70ed08c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.lottery .add-btn[data-v-a70ed08c]{width:100%;height:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.lottery .hint-lottery[data-v-a70ed08c]{width:100%;height:%?200?%;font-size:%?45?%;font-weight:700;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;letter-spacing:.1em;color:#fad434;letter-spacing:.1em;text-shadow:-1px -1px 1px #111,2px 2px 1px #090300}.lottery .hint-title[data-v-a70ed08c]{width:100%;height:%?200?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?34?%;color:#090300}',""]),t.exports=e},e445:function(t,e,i){"use strict";i.r(e);var n=i("315d"),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a}}]);