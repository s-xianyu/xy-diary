import{_ as q,o as v,c as b,w as t,a as e,i as U,r as z,b as H,d as P,e as G,t as F,h as W,f as K,g as X,j as Z,k as w,l as I,m as ee,n as te,p as ae,q as se,u as o,s as $,v as l,x as i,F as N,y as B,z as j,A as le,B as oe,C as ne,D as ce,E as ue}from"./js/index-D3a7_8GO.js";import{_ as ie}from"./index.DgMaX1uw.js";import{_ as re}from"./index.DsFSBjun.js";import{d as c}from"./dayjs.min.Bof1u0Bp.js";import{u as V}from"./setting.BYHqJpk1.js";const de={};function fe(s,y){const m=U;return v(),b(m,{class:"gap"},{default:t(()=>[e(m,{class:"gap-dot"}),e(m,{class:"gap-dot"})]),_:1})}const T=q(de,[["render",fe],["__scopeId","data-v-f8bfbb2a"]]),me=()=>{const s=z({D:c().format("DD"),M:c().format("MM"),Y:c().format("YYYY"),hh:c().format("HH"),mm:c().format("mm"),ss:c().format("ss"),time:c().format("YYYY-MM-DD HH:mm:ss")}),y=H(),m=()=>{y.value=setInterval(()=>{s.time=c().format("YYYY-MM-DD HH:mm:ss"),s.Y=c().format("YYYY"),s.M=c().format("MM"),s.D=c().format("DD"),s.hh=c().format("HH"),s.mm=c().format("mm"),s.ss=c().format("ss")},1e3)};return P(()=>m()),G(()=>clearInterval(y.value)),{...F(s)}},{settingInfo:k}=V(),_e=()=>{const s=z({Y:0,M:0,D:0,hh:0,mm:0,ss:0,retirement:k.retirement,retirementMoney:0,dayMoney:""}),y=H(),m=()=>{const u=c(k.birthData).format("YYYY"),d=c(k.birthData).format("MM"),r=c(k.birthData).format("DD");s.retirement=Number(u)+Number(k.retirement)+"-"+d+"-"+r,y.value=setInterval(()=>{const h=c().valueOf(),g=c(s.retirement).valueOf(),p=(g-h)/1e3,M=Number((365/12).toFixed(2));s.Y=Math.floor(p/60/60/24/M/12%365),s.M=Math.floor(p/60/60/24/M%12),s.D=Math.floor(p/60/60/24%M)-4,s.hh=Math.floor(p/60/60%24),s.mm=Math.floor(p/60%60),s.ss=Math.floor(p%60);const D=(g-h)/1e3/7*5,f=Number(k.monthlyPay)/21.75,a=f/(24*60*60),n=Number((D*a).toFixed(4));s.retirementMoney=n>0?n:0;const Y=c().format("YYYY-MM-DD"),x=c(`${Y} ${k.closingTime}`).valueOf(),C=c(`${Y} ${k.dutyTime}`).valueOf(),L=(x-C)/1e3,O=f/L;h<C&&(s.dayMoney="0"),h>=x&&(s.dayMoney=(Number(k.monthlyPay)/21.75).toFixed(4)),h>C&&h<x&&(s.dayMoney=((h-C)/1e3*O).toFixed(4))},1e3)};return P(()=>m()),G(()=>clearInterval(y.value)),{...F(s)}},ve=()=>W.get("https://international.v1.hitokoto.cn/"),{settingInfo:E}=V(),ye=()=>{const s=z({day:0,title:"",visible:!1,vacationList:[{name:"星期一",checked:!1,day:1},{name:"星期二",checked:!1,day:2},{name:"星期三",checked:!1,day:3},{name:"星期四",checked:!1,day:4},{name:"星期五",checked:!1,day:5},{name:"星期六",checked:!1,day:6},{name:"星期日",checked:!1,day:0}],vacation:E.vacation}),y=()=>{s.vacationList.map(r=>{r.checked=s.vacation.includes(r.name)});const u=s.vacationList.findIndex(r=>r.day===new Date().getDay()),d=[...s.vacationList,...s.vacationList];d.splice(0,u),s.day=d.findIndex(r=>r.checked),s.day>0?(s.title="距离放假还有",s.title="距离放假还有"):s.vacation.length===7||s.day===0?s.title="今天休息日，开心":s.title="可怕，不休息的吗",E.vacation=s.vacation},m=()=>{s.vacation=s.vacationList.filter(u=>u.checked).map(u=>u.name),y()};return P(()=>y()),{...F(s),commit:m}},{settingInfo:A}=V(),pe=()=>{const s=z({payIndex:A.payIndex,payDay:A.payDay,visible:!1,payColumns:[Array.from({length:30},(u,d)=>d+1+"日")]}),y=()=>{const u=Number(c().format("YYYY")),d=Number(c().format("MM")),r=Number(c().format("DD")),h=s.payIndex>=r?Number(d):Number(d)+1,g=h>12?u+1:u,p=h>12?1:h,M=c(`${g}-${p}-${s.payIndex}`).valueOf(),D=c(`${c().format("YYYY-MM-DD")}`).valueOf();s.payDay=Math.floor((M-D)/(1e3*60*60*24)),A.payDay=s.payDay,A.payIndex=s.payIndex},m=({indexs:u})=>{s.payIndex=u[0]+1,s.visible=!1,y()};return P(()=>y()),{...F(s),commit:m}},he=K({__name:"index",setup(s){const y=H(!1),m=me(),u=_e(),d=ye(),r=pe(),h=H([{label:"吃饭时间到",img:"https://s21.ax1x.com/2024/08/19/pAPlx29.png",path:"lottery"},{label:"下班做啥呀",img:"https://s21.ax1x.com/2024/08/19/pAPlv8J.png",path:"happy"}]);X(()=>M()),Z(()=>({title:"咸鱼日记"}));const g=D=>uni.navigateTo({url:D}),p=H({hitokoto:"",from:"",from_who:"",creator:""}),M=()=>{ve().then(({data:D})=>{p.value=D}).finally(()=>{y.value=!1})};return(D,f)=>{const a=U,n=le,Y=w(I("u-icon"),ee),x=w(I("s-car"),ie),C=oe,L=w(I("u-gap"),te),O=w(I("s-loading"),ae),J=w(I("s-popup"),re),Q=w(I("u-picker"),se);return v(),b(a,{class:"home"},{default:t(()=>[o(y)?(v(),b(O,{key:1})):(v(),$(N,{key:0},[e(x,{border:!0},{default:t(()=>[e(a,{class:"header"},{default:t(()=>[e(a),e(a,{class:"header-title"},{default:t(()=>[l("摸鱼时间")]),_:1}),e(a,{class:"header-setting",onClick:f[0]||(f[0]=_=>g("/pages/setting/index"))},{default:t(()=>[e(n,null,{default:t(()=>[l("设置")]),_:1}),e(Y,{name:"arrow-right-double"})]),_:1})]),_:1}),e(a,{class:"box"},{default:t(()=>[e(a,{class:"box-year"},{default:t(()=>[e(n,{class:"text"},{default:t(()=>[l(i(o(m).Y.value),1)]),_:1}),e(n,{class:"dot"},{default:t(()=>[l("年")]),_:1}),e(n,{class:"text"},{default:t(()=>[l(i(o(m).M.value),1)]),_:1}),e(n,{class:"dot"},{default:t(()=>[l("月")]),_:1}),e(n,{class:"text"},{default:t(()=>[l(i(o(m).D.value),1)]),_:1}),e(n,{class:"dot"},{default:t(()=>[l("天")]),_:1})]),_:1}),e(a,{class:"box-data"},{default:t(()=>[e(n,{class:"text"},{default:t(()=>[l(i(o(m).hh.value),1)]),_:1}),e(n,{class:"dot"},{default:t(()=>[l(":")]),_:1}),e(n,{class:"text"},{default:t(()=>[l(i(o(m).mm.value),1)]),_:1}),e(n,{class:"dot"},{default:t(()=>[l(":")]),_:1}),e(n,{class:"text"},{default:t(()=>[l(i(o(m).ss.value),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(T),e(x,{border:!0},{default:t(()=>[e(a,{class:"header"},{default:t(()=>[e(a,{class:"header-title"},{default:t(()=>[l("退休时间："+i(o(u).retirement.value),1)]),_:1})]),_:1}),e(a,{class:"box"},{default:t(()=>[o(u).retirementMoney.value?(v(),$(N,{key:0},[e(a,null,{default:t(()=>[l("距退休还剩")]),_:1}),e(a,{class:"box-retirement"},{default:t(()=>[e(n,{class:"text"},{default:t(()=>[l(i(o(u).Y.value),1)]),_:1}),e(n,{class:"dot"},{default:t(()=>[l("年")]),_:1}),e(n,{class:"text"},{default:t(()=>[l(i(o(u).M.value),1)]),_:1}),e(n,{class:"dot"},{default:t(()=>[l("月")]),_:1}),e(n,{class:"text"},{default:t(()=>[l(i(o(u).D.value),1)]),_:1}),e(n,{class:"dot"},{default:t(()=>[l("天")]),_:1}),e(n,{class:"text"},{default:t(()=>[l(i(o(u).hh.value),1)]),_:1}),e(n,{class:"dot"},{default:t(()=>[l("时")]),_:1}),e(n,{class:"text"},{default:t(()=>[l(i(o(u).mm.value),1)]),_:1}),e(n,{class:"dot"},{default:t(()=>[l("分")]),_:1}),e(n,{class:"text"},{default:t(()=>[l(i(o(u).ss.value),1)]),_:1}),e(n,{class:"dot"},{default:t(()=>[l("秒")]),_:1})]),_:1}),e(a,null,{default:t(()=>[l("还能到手的薪资为")]),_:1}),e(a,{class:"box-retirement"},{default:t(()=>[e(n,{class:"box-retirement-money"},{default:t(()=>[l("￥"+i(o(u).retirementMoney.value),1)]),_:1})]),_:1})],64)):(v(),b(a,{key:1,class:"box-text"},{default:t(()=>[e(n,null,{default:t(()=>[l("终于熬到退休啦！")]),_:1}),e(C,{class:"image",src:"https://s21.ax1x.com/2024/08/19/pAPljC4.png"})]),_:1}))]),_:1})]),_:1}),e(T),e(x,{border:!0},{default:t(()=>[e(a,{class:"header fl"},{default:t(()=>[e(a,{class:"header-title"},{default:t(()=>[l("今日收入")]),_:1})]),_:1}),e(a,{class:"box"},{default:t(()=>[e(a,{class:"box-days"},{default:t(()=>[e(a,{class:"money"},{default:t(()=>[o(u).retirementMoney.value?(v(),$(N,{key:0},[e(a,null,{default:t(()=>[l("今日到手薪资")]),_:1}),e(a,null,{default:t(()=>[l(" ￥ "),e(n,null,{default:t(()=>[l(i(o(u).dayMoney.value),1)]),_:1})]),_:1})],64)):(v(),b(a,{key:1,class:"no"},{default:t(()=>[l(i(o(u).retirementMoney.value&&o(d).day.value?"今日休息":"退休没工资了哦"),1)]),_:1})),e(C,{class:"image",src:"https://s21.ax1x.com/2024/08/19/pAPG6zQ.png"})]),_:1})]),_:1})]),_:1})]),_:1}),e(T),e(x,{border:!1},{default:t(()=>[e(a,{class:"box",onClick:f[1]||(f[1]=_=>g("/pages/life/index"))},{default:t(()=>[e(a,{class:"life"},{default:t(()=>[e(a,{class:"life-title"},{default:t(()=>[l("人生倒计时")]),_:1}),e(a,{class:"icon"},{default:t(()=>[e(Y,{name:"arrow-right",size:"14"})]),_:1})]),_:1})]),_:1})]),_:1}),e(T),e(a,{class:"row"},{default:t(()=>[(v(!0),$(N,null,B(o(h),(_,S)=>(v(),b(a,{key:S,class:"row-item",onClick:R=>g(`/pages/${_.path}/index`)},{default:t(()=>[e(x,{border:!1},{default:t(()=>[e(a,{class:"content"},{default:t(()=>[e(a,{class:"content-label"},{default:t(()=>[l(i(_.label),1)]),_:2},1024),e(a,{class:"content-main"},{default:t(()=>[e(a,{class:"icon"},{default:t(()=>[e(Y,{name:"arrow-right",size:"14"})]),_:1}),e(a,{class:"img"},{default:t(()=>[e(C,{src:_.img,class:"img-i"},null,8,["src"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),e(T),e(x,{border:!0},{default:t(()=>[e(a,{class:"header"},{default:t(()=>[e(a,{class:"header-title"},{default:t(()=>[l("每日一言")]),_:1}),e(a,{class:"header-setting",onClick:f[2]||(f[2]=_=>o(ne)(M,2e3,!0))},{default:t(()=>[e(n,null,{default:t(()=>[l("换一句")]),_:1})]),_:1})]),_:1}),e(a,{class:"box"},{default:t(()=>[e(a,{class:"box-hitokoto"},{default:t(()=>[e(a,{class:"box-hitokoto-title"},{default:t(()=>[e(n,null,{default:t(()=>[l(i(o(p).hitokoto||""),1)]),_:1})]),_:1}),e(a,{class:"box-hitokoto-who"},{default:t(()=>[e(n,null,{default:t(()=>[l("-- "+i(o(p).from_who||o(p).creator||""),1)]),_:1}),e(n,null,{default:t(()=>[l("《"+i(o(p).from||"--")+"》",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(L,{"bg-color":"#0000",height:"20"}),e(x,{border:!1},{default:t(()=>[e(a,{class:"box",onClick:f[3]||(f[3]=_=>o(d).visible.value=!0)},{default:t(()=>[e(a,{class:"box-vacation"},{default:t(()=>[e(a,{class:"box-vacation-title"},{default:t(()=>[l(i(o(d).title.value),1)]),_:1}),o(d).day.value?(v(),b(a,{key:0},{default:t(()=>[e(n,{class:"box-vacation-number"},{default:t(()=>[l(i(o(d).day.value),1)]),_:1}),e(n,null,{default:t(()=>[l("天")]),_:1})]),_:1})):j("",!0)]),_:1})]),_:1})]),_:1}),e(L,{"bg-color":"#0000",height:"20"}),e(x,{border:!1},{default:t(()=>[e(a,{class:"box",onClick:f[4]||(f[4]=_=>o(r).visible.value=!0)},{default:t(()=>[e(a,{class:"box-vacation"},{default:t(()=>[e(a,{class:"box-vacation-title"},{default:t(()=>[l(i(o(r).payDay.value===0?"今天发工资啦！":"距离发薪日还有"),1)]),_:1}),o(r).payDay.value?(v(),b(a,{key:0},{default:t(()=>[e(n,{class:"box-vacation-number"},{default:t(()=>[l(i(o(r).payDay.value),1)]),_:1}),e(n,null,{default:t(()=>[l("天")]),_:1})]),_:1})):j("",!0)]),_:1})]),_:1})]),_:1})],64)),e(J,{show:o(d).visible.value,"onUpdate:show":f[5]||(f[5]=_=>o(d).visible.value=_),title:"请选择休息日",onCommit:o(d).commit},{default:t(()=>[e(a,{class:"popup"},{default:t(()=>[e(a,{class:"check"},{default:t(()=>[(v(!0),$(N,null,B(o(d).vacationList.value,(_,S)=>(v(),b(a,{key:S,class:ce([{active:_.checked},"check-item"]),onClick:ue(R=>_.checked=!_.checked,["stop"])},{default:t(()=>[e(n,null,{default:t(()=>[l(i(_.name),1)]),_:2},1024),e(a,{class:"icons"},{default:t(()=>[_.checked?(v(),b(Y,{key:0,class:"icons-i",name:"checkmark-circle-fill",size:"18"})):(v(),b(Y,{key:1,class:"icons-i",name:"checkmark-circle",size:"18"}))]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["show","onCommit"]),e(Q,{columns:o(r).payColumns.value,"default-index":[o(r).payIndex.value-1],show:o(r).visible.value,"close-on-click-overlay":"",title:"选择发薪日期",onCancel:f[6]||(f[6]=_=>o(r).visible.value=!1),onClose:f[7]||(f[7]=_=>o(r).visible.value=!1),onConfirm:o(r).commit},null,8,["columns","default-index","show","onConfirm"])]),_:1})}}}),De=q(he,[["__scopeId","data-v-0db66cb8"]]);export{De as default};
